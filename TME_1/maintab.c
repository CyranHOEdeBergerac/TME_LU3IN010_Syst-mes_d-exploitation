#include<sys/resource.h>
#include "tab.h"


void PrintMem(){
    struct rusage utilisation;
    getrusage(RUSAGE_SELF,&utilisation);

    printf("Mémoire utilisée : %ld\n", utilisation.ru_maxrss);
}

int main(){
    
    /*Aléatoire*/
    srand( time(NULL));
    printf("Début du main :\n");
    PrintMem();
    /*Essais pour un tableau alloué sur le tas*/
    int* tab_t = (int*) malloc(NMAX * sizeof(int));
    srand( time(NULL));
    printf("Après l'allocation :\n");
    PrintMem();
    InitTab(tab_t, NMAX);
    printf("Après l'initialisation du tableau\n");
    PrintMem();
    //PrintTab(tab_t, NMAX);

    int min;
    #if 0
    printf("Somme par SumTab : %d, Somme par MinSumTab : %d\n", SumTab(tab_t,NMAX),MinSumTab(&min, tab_t,NMAX));

    printf("La valeur minimale est : %d\n",min);
    #endif
    free(tab_t);




    #if 0
    /*Essais pour un tableau déclaré sur la pile*/
    int tab_p[NMAX];
    InitTab(tab_t, NMAX);
    PrintTab(tab_t, NMAX);
    #endif

}