#include<unistd.h>
#include<sys/types.h>
#include<stdio.h>
#include<errno.h>

int main(int argc, char * argv[]) {
    pid_t p;
    int a = 10;
    p = fork();
    if(p == -1) {
        perror("Erreur sur le fork.\n");
        return 1;
    }
    if(p == 0) { /* le fils */
        a++;
        printf("Je suis le fils %d, pere : %d, a = %d\n",
        getpid(),getppid(),a);
        return 0;
    } else { /* le pere */
        printf("Pere de %d, a = %d\n", p,a);
        return 0;
    }
}